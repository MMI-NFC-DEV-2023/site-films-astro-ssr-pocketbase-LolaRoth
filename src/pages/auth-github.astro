---
import Layout from "../layouts/Layout.astro";

---

<Layout pageTitle="Auth avec github">
    <button id="connectGit">Se connecter</button>
</Layout>

<script>
import { pb } from "../backend";
    document.getElementById('connectGit')?.addEventListener('click', async () => {
    const authData = await pb.collection('users').authWithOAuth2({ provider: 'github' });
    document.cookie = pb.authStore.exportToCookie({httpOnly: false});
    })
</script>